<?xml version="1.0" encoding="UTF-8"?><SQLQuery AllowBuffering="false" AllowFuture="true" AutoTypeParameters="false" CacheDuration="0" CacheDurationUnits="M" Columns="" Comment="" Connector="" DateColumn="" DateFormat="MM/dd/yyyy HH:mm:ss" Debug="false" Description="" DocType="SQLQuery" Duration="60" DurationUnits="M" EndDate="" FilterExpr="" FixedQuery="" Group="" GroupingExpr="" ID="263568" InlineTransform="" IntervalCount="1" IsCachable="false" JoinExpr="" Mask="" Method="" Mode="Command" NumberFormat="0.00" Param.1="" Param.10="" Param.11="" Param.12="" Param.13="1" Param.14="1" Param.15="1" Param.16="1" Param.17="" Param.18="" Param.19="" Param.2="" Param.20="" Param.21="" Param.22="" Param.23="" Param.24="" Param.25="" Param.26="" Param.27="" Param.28="" Param.29="" Param.3="" Param.30="" Param.31="" Param.32="" Param.4="" Param.5="" Param.6="" Param.7="" Param.8="" Param.9="" ParamDescription.1="" ParamDescription.10="" ParamDescription.11="" ParamDescription.12="" ParamDescription.13="" ParamDescription.14="" ParamDescription.15="" ParamDescription.16="" ParamDescription.17="" ParamDescription.18="" ParamDescription.19="" ParamDescription.2="" ParamDescription.20="" ParamDescription.21="" ParamDescription.22="" ParamDescription.23="" ParamDescription.24="" ParamDescription.25="" ParamDescription.26="" ParamDescription.27="" ParamDescription.28="" ParamDescription.29="" ParamDescription.3="" ParamDescription.30="" ParamDescription.31="" ParamDescription.32="" ParamDescription.4="" ParamDescription.5="" ParamDescription.6="" ParamDescription.7="" ParamDescription.8="" ParamDescription.9="" ParamType.1="" ParamType.10="" ParamType.11="" ParamType.12="" ParamType.13="" ParamType.14="" ParamType.15="" ParamType.16="" ParamType.17="" ParamType.18="" ParamType.19="" ParamType.2="" ParamType.20="" ParamType.21="" ParamType.22="" ParamType.23="" ParamType.24="" ParamType.25="" ParamType.26="" ParamType.27="" ParamType.28="" ParamType.29="" ParamType.3="" ParamType.30="" ParamType.31="" ParamType.32="" ParamType.4="" ParamType.5="" ParamType.6="" ParamType.7="" ParamType.8="" ParamType.9="" Password="" PathID="1165" Query="declare @REC_TIME datetime,&#10;@Start_Date nvarchar(20),&#10;@End_Date  nvarchar(20),&#10;@Start_Hour int,&#10;@End_Hour int,&#10;@End_Minu int,&#10;@l_date date&#10;&#10;set @REC_TIME=getdate()&#10;set @Start_Hour = CONVERT (int , SUBSTRING ('[Param.11]',1,2) )&#10;set @End_Hour=CONVERT (int , SUBSTRING ('[Param.12]',1,2))&#10;set @End_Minu=CONVERT (int , SUBSTRING ('[Param.12]',4,2))&#10;set @l_date = CONVERT (date,'[Param.10]')&#10;set @Start_Date='[Param.10]'+' '+'[Param.11]'&#10;set @End_Date='[Param.10]'+' '+'[Param.12]'&#10;&#10;&#10;&#10;if (@End_Hour&gt;@Start_Hour)&#10;BEGIN &#10;&#9;SET @Start_Date= '[Param.10]'+' '+'[Param.11]'&#10;    SET @End_Date ='[Param.10]'+' '+'[Param.12]'&#10;END&#10;ELSE &#10;BEGIN &#10;&#9;if (@End_Hour&gt;=08)&#10;&#9;set @Start_Date =CONVERT( CHAR( 19 ), (CONVERT( NVARCHAR,dateadd(dd,-1,@l_date), 102 )+' '+ '[Param.11]'), 23 )&#10;&#9;&#10;&#9;&#10;&#10;&#9;if (@End_Hour&gt;=00 and (@End_Hour&lt;08 and @End_Hour&lt;&gt;00 ))&#10;&#9;set @End_Date = CONVERT( CHAR( 19 ), (CONVERT( NVARCHAR,dateadd(dd,1,@l_date), 102 )+' '+ '[Param.12]'), 23 )&#10;&#10;if (@End_Hour=00 and @End_Minu&gt;0  )&#10;&#9;set @End_Date = CONVERT( CHAR( 19 ), (CONVERT( NVARCHAR,dateadd(dd,1,@l_date), 102 )+' '+ '00:05:28'), 23 )&#10;&#10;&#9;&#10;END&#10;&#10;--select @REC_TIME,@Start_Hour,@End_Hour,&#10;--@l_date ,@Start_Date,@End_Date&#10;&#10;&#10;INSERT INTO EST.dbo.[HIST_PERSONAL_PDKS](&#10;   PERNR&#10;  ,ENAME&#10;  ,WERKS&#10;  ,BTRTL&#10;  ,PERSG&#10;  ,PERSK&#10;  ,ORGEH&#10;  ,PLANS&#10;  ,KOSTL&#10;  ,DATUM&#10;  ,BEGUZ&#10;  ,ENDUZ&#10;  ,ZNCSZ&#10;  ,ZNCGZ&#10;  ,ZF150&#10;  ,ZF200&#10;  ,REC_DATE&#10;  ,Z_START_DATE&#10;  ,Z_END_DATE&#10;) VALUES (&#10;   '[Param.1]' -- PERNR - IN varchar(20)&#10;  ,'[Param.2]' -- ENAME - IN varchar(120)&#10;  ,'[Param.3]' -- WERKS - IN varchar(20)&#10;  ,'[Param.4]' -- BTRTL - IN varchar(20)&#10;  ,'[Param.5]' -- PERSG - IN varchar(20)&#10;  ,'[Param.6]' -- PERSK - IN varchar(20)&#10;  ,'[Param.7]' -- ORGEH - IN varchar(20)&#10;  ,'[Param.8]' -- PLANS - IN varchar(20)&#10;  ,'[Param.9]' -- KOSTL - IN varchar(20)&#10;  ,'[Param.10]' -- DATUM - IN date&#10;  ,'[Param.11]' -- BEGUZ - IN varchar(20)&#10;  ,'[Param.12]' -- ENDUZ - IN varchar(20)&#10;  ,[Param.13] -- ZNCSZ - IN decimal(18, 2)&#10;  ,[Param.14] -- ZNCGZ - IN decimal(18, 2)&#10;  ,[Param.15] -- ZF150 - IN decimal(18, 2)&#10;  ,[Param.16] -- ZF200 - IN decimal(18, 2)&#10;  ,@REC_TIME&#10;  ,convert (datetime, @Start_Date)&#10;  ,convert (datetime,@End_Date)&#10;  &#10;)" QueryParams="" ReaderRoles="SAP_XMII_User" RestrictedPropertyOverride="false" RowCount="100" SaveDate="07/25/2024 16:32:02" Schedule="" SelectedColumns="" Server="MII_DB" Service="" SortExpr="" StartDate="" Tables="" Time="" TimePeriod="" Trace="false" UseTypedParams="false" UserName="" Version="15.0.4.2" WriterRoles="SAP_XMII_Super_Administrator,SAP_XMII_Administrator,SAP_XMII_Developer" XParamName.1="" XParamName.10="" XParamName.11="" XParamName.12="" XParamName.13="" XParamName.14="" XParamName.15="" XParamName.16="" XParamName.2="" XParamName.3="" XParamName.4="" XParamName.5="" XParamName.6="" XParamName.7="" XParamName.8="" XParamName.9="" XParamValue.1="" XParamValue.10="" XParamValue.11="" XParamValue.12="" XParamValue.13="" XParamValue.14="" XParamValue.15="" XParamValue.16="" XParamValue.2="" XParamValue.3="" XParamValue.4="" XParamValue.5="" XParamValue.6="" XParamValue.7="" XParamValue.8="" XParamValue.9=""><Tasks/><ETCServers/><ETCObjects/></SQLQuery>